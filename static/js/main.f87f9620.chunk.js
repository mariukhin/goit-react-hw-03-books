(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports={bookItem:"BookListItem_bookItem__2vwd8",imgBlock:"BookListItem_imgBlock__2F5rw",textBlock:"BookListItem_textBlock__3KjBB"}},17:function(e,t,a){e.exports={bookList:"BookList_bookList__3cRMW",bookListItem:"BookList_bookListItem__1IgGt"}},34:function(e){e.exports=[{value:"fantasy",label:"fantasy"},{value:"thriller",label:"thriller"},{value:"drama",label:"drama"},{value:"mystery",label:"mystery"},{value:"horror",label:"horror"},{value:"satire",label:"satire"},{value:"computers",label:"computers"}]},37:function(e,t,a){e.exports=a(87)},5:function(e,t,a){e.exports={form:"SearchForm_form__2AreI",nameInput:"SearchForm_nameInput__1QAAb",genreSelect:"SearchForm_genreSelect__19DCk",submitBtn:"SearchForm_submitBtn__3Ov-m"}},87:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(4),l=a.n(r),s=a(6),i=a(7),c=a(10),m=a(8),u=a(11),p=a(28),b=a.n(p),h=a(29),g=a.n(h);var d=a(30),f=a(9),v=a(36),k=a(5),E=a.n(k),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={bookName:"",bookGenre:"",selectedOption:null},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(f.a)({},n,o))},a.changeOption=function(e){a.setState({bookGenre:e.value,selectedOption:e})},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onSubmit)(Object(d.a)({},a.state))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.bookName,a=e.selectedOption,n=this.props.genres;return o.a.createElement("form",{className:E.a.form,onSubmit:this.handleSubmit},o.a.createElement("input",{className:E.a.nameInput,type:"text",placeholder:"Enter genre",name:"bookName",value:t,onChange:this.handleInputChange}),o.a.createElement(v.a,{value:a,onChange:this.changeOption,options:n,className:E.a.genreSelect,placeholder:"Select genre.."}),o.a.createElement("button",{className:E.a.submitBtn,type:"submit"},"Search"))}}]),t}(n.Component),_=a(13),N=a.n(_),S=function(e){var t=e.img,a=e.title,n=e.description,r=e.author,l=e.publisher,s=e.publishedDate,i=e.pageCount,c=e.rating;return o.a.createElement("div",{className:N.a.bookItem},o.a.createElement("div",{className:N.a.imgBlock},o.a.createElement("img",{className:"itemImg",alt:"img",src:t})),o.a.createElement("div",{className:N.a.textBlock},o.a.createElement("h2",{className:"title"},a),o.a.createElement("p",{className:"description"},n),o.a.createElement("p",{className:"author"},o.a.createElement("b",null,"Author: ")," ",r),o.a.createElement("p",{className:"publisher"},o.a.createElement("b",null,"Publisher: "),l),o.a.createElement("p",{className:"publishedDate"},o.a.createElement("b",null,"Published date: ")," ",s),o.a.createElement("p",{className:"pageCount"},o.a.createElement("b",null,"Page count: "),i),o.a.createElement("p",{className:"rating"},o.a.createElement("b",null,"Rating: "),c)))};S.defaultProps={description:"No description",author:"No author",publisher:"No publisher",publishedDate:"No published date",pageCount:0,rating:0};var O=S,y=a(17),B=a.n(y),L=function(e){var t=e.items;return o.a.createElement("ul",{className:B.a.bookList},t.map(function(e){return o.a.createElement("li",{className:B.a.bookListItem,key:e.id},o.a.createElement(O,e))}))},w=function(e){var t=e.text;return o.a.createElement("h1",null,"Whoops, something went wrong: ",t)},j="https://www.googleapis.com/books/v1/volumes?",C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],isLoading:!1,error:null},a.fetchItems=function(e,t){var n="".concat(j,"q=").concat(e.toLowerCase(),"+subject:").concat(t);b.a.get(n).then(function(e){return a.setState({books:(t=e.data.items,t.map(function(e){return{id:e.id,volumeInfo:e.volumeInfo}}).map(function(e){return{id:e.id,img:e.volumeInfo.imageLinks.thumbnail,title:e.volumeInfo.title,description:e.volumeInfo.description,author:e.volumeInfo.authors,publisher:e.volumeInfo.publisher,publishedDate:e.volumeInfo.publishedDate,pageCount:e.volumeInfo.pageCount,rating:e.volumeInfo.averageRating}}))});var t}).catch(function(e){return a.setState({error:e})}).finally(function(){return a.setState({isLoading:!1})})},a.formSubmit=function(e){var t=e.bookName,n=e.bookGenre;a.setState({isLoading:!0}),a.fetchItems(t,n)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.books,a=e.isLoading,n=e.error,r=this.props.genres;return o.a.createElement("div",null,o.a.createElement(I,{genres:r,onSubmit:this.formSubmit}),n&&o.a.createElement(w,{text:n.message}),a&&o.a.createElement(g.a,{name:"ball-spin-fade-loader",color:"blue",className:"loader"}),t.length>0&&o.a.createElement(L,{items:t}))}}]),t}(n.Component),x=a(34);l.a.render(o.a.createElement(C,{genres:x}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f87f9620.chunk.js.map