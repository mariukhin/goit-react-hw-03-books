{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/BookListItem/BookListItem.module.css","components/BookList/BookList.module.css","components/Loader/Loader.module.css","services/helper.js","components/SearchForm/SearchForm.js","components/BookListItem/BookListItem.js","components/BookList/BookList.js","components/ErrorNotification/ErrorNotification.js","services/book-api.js","components/Loader/Loader.js","components/App.js","index.js"],"names":["module","exports","form","nameInput","genreSelect","submitBtn","bookItem","imgBlock","textBlock","bookList","bookListItem","loader","mapper","books","map","_ref","id","volumeInfo","item","img","imageLinks","thumbnail","title","description","author","authors","publisher","publishedDate","pageCount","rating","averageRating","SearchForm","state","bookName","bookGenre","selectedOption","handleInputChange","target","name","value","_this","setState","Object","defineProperty","changeOption","option","handleSubmit","e","preventDefault","onSubmit","props","objectSpread","_this$state","this","genres","react_default","a","createElement","className","styles","type","placeholder","onChange","react_select_esm","options","Component","BookListItem","showMore","onShowMore","_this$props","alt","src","length","slice","descriptionParser","onClick","defaultProps","BookList","items","key","BookListItem_BookListItem","ErrorNotification","text","API_URL","Loader","color","dist_default","App","isLoading","error","fetchItems","genre","RESULT_URL","concat","toLowerCase","axios","get","then","response","data","fetchBooks","catch","finally","formSubmit","SearchForm_SearchForm","components_ErrorNotification_ErrorNotification","message","components_Loader_Loader","components_BookList_BookList","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.e190de30.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__F8lYD\",\"nameInput\":\"SearchForm_nameInput__2G2w6\",\"genreSelect\":\"SearchForm_genreSelect__2h3Ut\",\"submitBtn\":\"SearchForm_submitBtn__1Jbke\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookItem\":\"BookListItem_bookItem__33trH\",\"imgBlock\":\"BookListItem_imgBlock__3uxA2\",\"textBlock\":\"BookListItem_textBlock__2dvHT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookList\":\"BookList_bookList__p0CXx\",\"bookListItem\":\"BookList_bookListItem__1-nqS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__D-DxU\"};","/*eslint-disable*/\nexport function mapper(books) {\n  return books\n    .map(({ id, volumeInfo }) => ({\n      id,\n      volumeInfo,\n    }))\n    .map(\n      item =>\n        (item = {\n          id: item.id,\n          img: item.volumeInfo.imageLinks.thumbnail,\n          title: item.volumeInfo.title,\n          description: item.volumeInfo.description,\n          author: item.volumeInfo.authors,\n          publisher: item.volumeInfo.publisher,\n          publishedDate: item.volumeInfo.publishedDate,\n          pageCount: item.volumeInfo.pageCount,\n          rating: item.volumeInfo.averageRating,\n        }),\n    );\n}\nexport const descriptionParser = description =>\n  description.length >= 200 ? description.slice(0, 200) : description;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    bookName: '',\n    bookGenre: '',\n    selectedOption: null,\n  };\n\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    genres: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  };\n\n  handleInputChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  changeOption = option => {\n    this.setState({ bookGenre: option.value, selectedOption: option });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    onSubmit({ ...this.state });\n  };\n\n  render() {\n    const { bookName, selectedOption } = this.state;\n    const { genres } = this.props;\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <input\n          className={styles.nameInput}\n          type=\"text\"\n          placeholder=\"Enter name\"\n          name=\"bookName\"\n          value={bookName}\n          onChange={this.handleInputChange}\n        />\n        <Select\n          value={selectedOption}\n          onChange={this.changeOption}\n          options={genres}\n          className={styles.genreSelect}\n          placeholder=\"Select genre..\"\n        />\n        <button className={styles.submitBtn} type=\"submit\">\n          Search\n        </button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './BookListItem.module.css';\nimport { descriptionParser } from '../../services/helper';\n\nexport default class BookListItem extends Component {\n  state = {\n    showMore: false,\n  };\n\n  static propTypes = {\n    img: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    author: PropTypes.arrayOf(PropTypes.string),\n    publisher: PropTypes.string,\n    publishedDate: PropTypes.string,\n    pageCount: PropTypes.number,\n    rating: PropTypes.number,\n  };\n\n  static defaultProps = {\n    description: 'No description',\n    author: 'No author',\n    publisher: 'No publisher',\n    publishedDate: 'No published date',\n    pageCount: 0,\n    rating: 0.0,\n  };\n\n  onShowMore = () => {\n    this.setState({ showMore: true });\n  };\n\n  render() {\n    const {\n      img,\n      title,\n      description,\n      author,\n      publisher,\n      publishedDate,\n      pageCount,\n      rating,\n    } = this.props;\n    const { showMore } = this.state;\n    return (\n      <div className={styles.bookItem}>\n        <div className={styles.imgBlock}>\n          <img className=\"itemImg\" alt=\"img\" src={img} />\n        </div>\n        <div className={styles.textBlock}>\n          <h2 className=\"title\">{title}</h2>\n\n          {showMore ? (\n            <p className=\"description\">{description}</p>\n          ) : (\n            <p className=\"description\">{descriptionParser(description)}</p>\n          )}\n          {description.length >= 200 && !showMore && (\n            <button type=\"button\" onClick={this.onShowMore}>\n              Show more\n            </button>\n          )}\n          <p className=\"author\">\n            <b>Author: </b> {author}\n          </p>\n          <p className=\"publisher\">\n            <b>Publisher: </b>\n            {publisher}\n          </p>\n          <p className=\"publishedDate\">\n            <b>Published date: </b> {publishedDate}\n          </p>\n          <p className=\"pageCount\">\n            <b>Page count: </b>\n            {pageCount}\n          </p>\n          <p className=\"rating\">\n            <b>Rating: </b>\n            {rating}\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport BookListItem from '../BookListItem/BookListItem';\nimport styles from './BookList.module.css';\n\nconst BookList = ({ items }) => (\n  <ul className={styles.bookList}>\n    {items.map(item => (\n      <li className={styles.bookListItem} key={item.id}>\n        <BookListItem {...item} />\n      </li>\n    ))}\n  </ul>\n);\nBookList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      img: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string,\n      author: PropTypes.arrayOf(PropTypes.string),\n      publisher: PropTypes.string,\n      publishedDate: PropTypes.string,\n      pageCount: PropTypes.number,\n      rating: PropTypes.number,\n    }).isRequired,\n  ).isRequired,\n};\nexport default BookList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1>Whoops, something went wrong: {text}</h1>\n);\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst API_URL = 'https://www.googleapis.com/books/v1/volumes?';\n\nexport default function fetchBooks(name, genre) {\n  const RESULT_URL = `${API_URL}q=${name.toLowerCase()}+subject:${genre}`;\n  return axios.get(RESULT_URL).then(response => response.data.items);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Spinner from 'react-spinkit';\nimport styles from './Loader.module.css';\n\nconst Loader = ({ name, color }) => (\n  <Spinner className={styles.loader} name={name} color={color} />\n);\n\nLoader.propTypes = {\n  name: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\nexport default Loader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { mapper } from '../services/helper';\nimport SearchForm from './SearchForm/SearchForm';\nimport BookList from './BookList/BookList';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport fetchBooks from '../services/book-api';\nimport Loader from './Loader/Loader';\n\nexport default class App extends Component {\n  static propTypes = {\n    genres: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  };\n\n  state = {\n    books: [],\n    isLoading: false,\n    error: null,\n  };\n\n  fetchItems = (name, genre) => {\n    fetchBooks(name, genre)\n      .then(books => this.setState({ books: mapper(books) }))\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  formSubmit = ({ bookName, bookGenre }) => {\n    this.setState({ isLoading: true });\n    this.fetchItems(bookName, bookGenre);\n  };\n\n  render() {\n    const { books, isLoading, error } = this.state;\n    const { genres } = this.props;\n    return (\n      <div>\n        <SearchForm genres={genres} onSubmit={this.formSubmit} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader name=\"ball-spin-fade-loader\" color=\"blue\" />}\n        {books.length > 0 && <BookList items={books} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport genres from './genres.json';\n\nReactDOM.render(<App genres={genres} />, document.getElementById('root'));\n"],"sourceRoot":""}